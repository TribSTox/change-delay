!function(t){t.fn.changeDelay=function(e,i){function n(t,e){function i(t){void 0===t&&(t=!1),r=0;var i=e.val();"input"!==n&&(i=e.text()),!t&&i.length<o.threshold||i==c||(e.trigger("commit",[i]),c=i)}var n="input";if(!t.type&&t.attributes.contenteditable||"TEXT"!=t.type.toUpperCase()&&"TEXTAREA"!=t.nodeName.toUpperCase())n="container";else if(!t.attributes.contenteditable&&"TEXT"!=t.type.toUpperCase()&&"TEXTAREA"!=t.nodeName.toUpperCase())return;var a,r=0,u=o.initial,c=e.val();"input"!==n&&(c=e.text()),e.on("keyup",function(t){if(clearTimeout(a),13==t.keyCode&&i(o.forceable),0===r)return r=Date.now(),u=o.initial,void(a=setTimeout(i,u));var e=Date.now();u=(u+2*(e-r))/2,r=e,a=setTimeout(i,Math.max(o.minimum,2*u))}),e.on("blur",function(){i(o.forceable)})}if(void 0!==e)if(t.isFunction(e))this.on("commit",e);else{if(void 0!==i)return;i=e}var o=t.extend({initial:1e3,highlight:!0,minimum:500,threshold:2,forceable:!0},i);return o.highlight&&this.on("focus.selection",function(){try{this.select()}catch(t){}}),this.each(function(e){n(this,t(this))})}}(jQuery);
